# Ð‘Ñ‹ÑÑ‚Ñ€Ð°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ð¸ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ñ†ÐµÐ½

## âœ… Ð£Ð¶Ðµ Ð³Ð¾Ñ‚Ð¾Ð²Ð¾:
- [x] Artisan ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° `prices:sync-all` ÑÐ¾Ð·Ð´Ð°Ð½Ð°
- [x] ÐŸÐ»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸Ðº Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ð½Ð° ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð² 12:00  
- [x] ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð° Ð¸ Ð²Ð¸Ð´Ð½Ð° Ð² `php artisan schedule:list`

## ðŸ”§ ÐžÑÑ‚Ð°Ð»Ð¾ÑÑŒ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ:

### 1. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ cron job Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ

**Ð”Ð»Ñ Linux/Unix ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð²:**
```bash
# ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ crontab
crontab -e

# Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÑ‚Ñ€Ð¾ÐºÑƒ (Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð¿ÑƒÑ‚ÑŒ Ð½Ð° Ð²Ð°Ñˆ)
* * * * * cd /path/to/your/project && php artisan schedule:run >> /dev/null 2>&1
```

**Ð”Ð»Ñ Windows (Ð²Ð°Ñˆ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ ÑÐ»ÑƒÑ‡Ð°Ð¹):**
1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ "ÐŸÐ»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸Ðº Ð·Ð°Ð´Ð°Ñ‡" (Task Scheduler)
2. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð½Ð¾Ð²ÑƒÑŽ Ð·Ð°Ð´Ð°Ñ‡Ñƒ:
   - Ð˜Ð¼Ñ: "Laravel Price Sync"
   - Ð¢Ñ€Ð¸Ð³Ð³ÐµÑ€: Ð•Ð¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾ Ð² 00:00 (Ð¸Ð»Ð¸ Ð»ÑŽÐ±Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ)
   - Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ: Ð—Ð°Ð¿ÑƒÑÐº Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹
   - ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð°: `cmd`
   - ÐÑ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹: `/c "cd F:\kaskad\integration && php artisan schedule:run"`

### 2. Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

```bash
# Ð ÑƒÑ‡Ð½Ð¾Ð¹ Ð·Ð°Ð¿ÑƒÑÐº Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸
php artisan prices:sync-all --force

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸ÐºÐ°
php artisan schedule:list

# Ð¢ÐµÑÑ‚ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ñ†Ð¸ÐºÐ»Ð° Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸ÐºÐ°
php artisan schedule:run
```

### 3. ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³

```bash
# ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð»Ð¾Ð³Ð¾Ð² ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸
Get-Content storage/logs/laravel.log | Select-String "Ð¡Ð˜ÐÐ¥Ð ÐžÐÐ˜Ð—ÐÐ¦Ð˜Ð¯" | Select-Object -Last 10

# ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ cron Ð»Ð¾Ð³Ð¾Ð²
Get-Content storage/logs/sync-prices-cron.log
```

## ðŸš€ Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!

ÐŸÐ¾ÑÐ»Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ cron job ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð±ÑƒÐ´ÐµÑ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ†ÐµÐ½Ñ‹ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ Ð² 12:00.

## ðŸ“Š Ð§Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ Ð¿Ñ€Ð¸ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸:

1. ÐŸÑ€Ð¾Ñ…Ð¾Ð´Ð¸Ñ‚ Ð¿Ð¾ Ð²ÑÐµÐ¼ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ð¼ ÑÐ¼Ð°Ñ€Ñ‚-Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð²
2. Ð˜Ð·Ð²Ð»ÐµÐºÐ°ÐµÑ‚ Ñ‚Ð¾Ð²Ð°Ñ€Ð½Ñ‹Ðµ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ (product rows)  
3. ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ñ†ÐµÐ½Ñ‹ Ð¸Ð· ÐºÐ°Ñ‚Ð°Ð»Ð¾Ð³Ð° Ð‘Ð¸Ñ‚Ñ€Ð¸ÐºÑ
4. Ð¡Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°ÐµÑ‚ Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÑ‚ Ñ†ÐµÐ½Ñ‹ Ð¿Ñ€Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸
5. Ð’ÐµÐ´ÐµÑ‚ Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð»Ð¾Ð³Ð¸ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ°
6. Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÑ‚ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ

## âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ñ

ÐœÐ¾Ð¶Ð½Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð²Ñ€ÐµÐ¼Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð² `app/Console/Kernel.php`:

```php
// Ð¢ÐµÐºÑƒÑ‰Ð°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°: ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ Ð² 12:00
->dailyAt('12:00')

// Ð”Ñ€ÑƒÐ³Ð¸Ðµ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹:
->dailyAt('06:00')        // ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ Ð² 6:00
->hourly()                // ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ñ‡Ð°Ñ  
->everyThirtyMinutes()    // ÐºÐ°Ð¶Ð´Ñ‹Ðµ 30 Ð¼Ð¸Ð½ÑƒÑ‚
->weeklyOn(1, '12:00')    // ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¸Ðº Ð² 12:00
``` 